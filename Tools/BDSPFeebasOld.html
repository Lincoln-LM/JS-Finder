<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <title>BDSP Feebas</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:regular">
  <link rel="stylesheet" href="../CSS/main.css">
  <link rel="stylesheet" href="../CSS/states.css">
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
</head>
  

<body>
  <div class="info">
    <a>Either both red <strong>or</strong> both green tiles can generate feebas.</a><br>
    <a>This means that if one of the red tiles does not give you feebas, both of the green will.</a><br>
    <a>If you fish with a Good/Super Rod and your lead pokemon has Illuminate/Arena Trap/No Guard, every time you fish will have a guaranteed hook!</a><br>
    <a>You can catch a Machoke with No Guard in the same room you fish for feebas.</a><br>
    <a>(if the map does not show up then reload the page)</a><br>
  <a>Todays Lottery Number: </a><input style="width:80px;" type="number" max="65535" id="lottery" value="0" onchange="generate()"><br>
  </div><br>
  <button class="button-1" onclick="window.location.href='./'" style="position:relative;left:2px">Back</button>
  <br>
  <div style="display:none;" id="hidden">
  </div>
  <canvas id="canvas"></canvas>
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const hidden = document.getElementById('hidden')
    const image = document.createElement('img');
    image.src = "map.png";
    hidden.appendChild(image);
    const TILE_DATA = [
      [0x09,0x12],[0x0a,0x12],[0x0b,0x12],[0x0c,0x12],[0x0d,0x12],[0x0e,0x12],[0x0f,0x12],[0x10,0x12],[0x11,0x12],[0x12,0x12],[0x13,0x12],[0x14,0x12],[0x15,0x12],[0x16,0x12],[0x17,0x12],[0x18,0x12],[0x19,0x12],[0x1a,0x12],
      [0x09,0x13],[0x0a,0x13],[0x0b,0x13],[0x0c,0x13],[0x0d,0x13],[0x0e,0x13],[0x0f,0x13],[0x10,0x13],[0x11,0x13],[0x12,0x13],[0x13,0x13],[0x14,0x13],[0x15,0x13],[0x16,0x13],[0x17,0x13],[0x18,0x13],[0x19,0x13],[0x1a,0x13],
      [0x09,0x14],[0x0a,0x14],[0x0b,0x14],[0x0c,0x14],[0x0d,0x14],[0x0e,0x14],[0x0f,0x14],[0x10,0x14],[0x11,0x14],[0x12,0x14],[0x13,0x14],[0x14,0x14],[0x15,0x14],[0x16,0x14],[0x17,0x14],            [0x19,0x14],[0x1a,0x14],
      [0x09,0x15],[0x0a,0x15],[0x0b,0x15],            [0x0d,0x15],[0x0e,0x15],[0x0f,0x15],[0x10,0x15],[0x11,0x15],[0x12,0x15],[0x13,0x15],[0x14,0x15],[0x15,0x15],[0x16,0x15],[0x17,0x15],[0x18,0x15],[0x19,0x15],[0x1a,0x15],
      [0x09,0x16],[0x0a,0x16],[0x0b,0x16],[0x0c,0x16],[0x0d,0x16],[0x0e,0x16],[0x0f,0x16],[0x10,0x16],[0x11,0x16],[0x12,0x16],[0x13,0x16],[0x14,0x16],[0x15,0x16],[0x16,0x16],[0x17,0x16],[0x18,0x16],[0x19,0x16],[0x1a,0x16],
      [0x09,0x17],[0x0a,0x17],[0x0b,0x17],[0x0c,0x17],[0x0d,0x17],[0x0e,0x17],[0x0f,0x17],[0x10,0x17],[0x11,0x17],[0x12,0x17],[0x13,0x17],[0x14,0x17],[0x15,0x17],[0x16,0x17],[0x17,0x17],[0x18,0x17],[0x19,0x17],[0x1a,0x17],
      [0x09,0x18],[0x0a,0x18],[0x0b,0x18],[0x0c,0x18],[0x0d,0x18],[0x0e,0x18],[0x0f,0x18],[0x10,0x18],[0x11,0x18],[0x12,0x18],[0x13,0x18],[0x14,0x18],[0x15,0x18],[0x16,0x18],[0x17,0x18],[0x18,0x18],[0x19,0x18],[0x1a,0x18],
      [0x09,0x19],[0x0a,0x19],[0x0b,0x19],[0x0c,0x19],[0x0d,0x19],[0x0e,0x19],[0x0f,0x19],[0x10,0x19],[0x11,0x19],[0x12,0x19],[0x13,0x19],[0x14,0x19],[0x15,0x19],[0x16,0x19],[0x17,0x19],[0x18,0x19],[0x19,0x19],[0x1a,0x19],
      [0x09,0x1a],[0x0a,0x1a],[0x0b,0x1a],[0x0c,0x1a],[0x0d,0x1a],[0x0e,0x1a],[0x0f,0x1a],[0x10,0x1a],[0x11,0x1a],[0x12,0x1a],[0x13,0x1a],[0x14,0x1a],[0x15,0x1a],[0x16,0x1a],[0x17,0x1a],[0x18,0x1a],[0x19,0x1a],[0x1a,0x1a],
      [0x09,0x1b],[0x0a,0x1b],[0x0b,0x1b],[0x0c,0x1b],[0x0d,0x1b],[0x0e,0x1b],            [0x10,0x1b],[0x11,0x1b],[0x12,0x1b],[0x13,0x1b],[0x14,0x1b],[0x15,0x1b],[0x16,0x1b],[0x17,0x1b],[0x18,0x1b],[0x19,0x1b],[0x1a,0x1b],
      [0x09,0x1c],[0x0a,0x1c],[0x0b,0x1c],[0x0c,0x1c],[0x0d,0x1c],[0x0e,0x1c],[0x0f,0x1c],[0x10,0x1c],[0x11,0x1c],[0x12,0x1c],[0x13,0x1c],[0x14,0x1c],[0x15,0x1c],[0x16,0x1c],[0x17,0x1c],[0x18,0x1c],[0x19,0x1c],[0x1a,0x1c],
      [0x09,0x1d],[0x0a,0x1d],[0x0b,0x1d],[0x0c,0x1d],[0x0d,0x1d],[0x0e,0x1d],[0x0f,0x1d],[0x10,0x1d],                                                                                    [0x18,0x1d],[0x19,0x1d],[0x1a,0x1d],
      [0x09,0x1e],[0x0a,0x1e],[0x0b,0x1e],[0x0c,0x1e],[0x0d,0x1e],[0x0e,0x1e],[0x0f,0x1e],[0x10,0x1e],                                                                                                [0x19,0x1e],[0x1a,0x1e],
      [0x09,0x1f],[0x0a,0x1f],[0x0b,0x1f],[0x0c,0x1f],[0x0d,0x1f],[0x0e,0x1f],[0x0f,0x1f],[0x10,0x1f],                                                                                    [0x18,0x1f],[0x19,0x1f],[0x1a,0x1f],
      [0x09,0x20],[0x0a,0x20],                        [0x0d,0x20],[0x0e,0x20],[0x0f,0x20],[0x10,0x20],                                                                                    [0x18,0x20],[0x19,0x20],[0x1a,0x20],
      [0x09,0x21],[0x0a,0x21],                        [0x0d,0x21],[0x0e,0x21],[0x0f,0x21],[0x10,0x21],                                                                                    [0x18,0x21],[0x19,0x21],[0x1a,0x21],
      [0x09,0x22],[0x0a,0x22],[0x0b,0x22],[0x0c,0x22],[0x0d,0x22],[0x0e,0x22],[0x0f,0x22],[0x10,0x22],                                                                                    [0x18,0x22],[0x19,0x22],[0x1a,0x22],
      [0x09,0x23],[0x0a,0x23],[0x0b,0x23],[0x0c,0x23],[0x0d,0x23],[0x0e,0x23],[0x0f,0x23],[0x10,0x23],                                                                                    [0x18,0x23],[0x19,0x23],[0x1a,0x23],
      [0x09,0x24],[0x0a,0x24],[0x0b,0x24],[0x0c,0x24],[0x0d,0x24],[0x0e,0x24],[0x0f,0x24],[0x10,0x24],[0x11,0x24],[0x12,0x24],[0x13,0x24],[0x14,0x24],[0x15,0x24],[0x16,0x24],[0x17,0x24],[0x18,0x24],[0x19,0x24],[0x1a,0x24],
      [0x09,0x25],[0x0a,0x25],[0x0b,0x25],[0x0c,0x25],[0x0d,0x25],[0x0e,0x25],[0x0f,0x25],[0x10,0x25],[0x11,0x25],[0x12,0x25],[0x13,0x25],[0x14,0x25],[0x15,0x25],[0x16,0x25],[0x17,0x25],[0x18,0x25],[0x19,0x25],[0x1a,0x25],
      [0x09,0x26],[0x0a,0x26],[0x0b,0x26],[0x0c,0x26],[0x0d,0x26],[0x0e,0x26],[0x0f,0x26],[0x10,0x26],[0x11,0x26],[0x12,0x26],[0x13,0x26],[0x14,0x26],[0x15,0x26],[0x16,0x26],[0x17,0x26],[0x18,0x26],[0x19,0x26],[0x1a,0x26],
      [0x09,0x27],[0x0a,0x27],[0x0b,0x27],[0x0c,0x27],[0x0d,0x27],[0x0e,0x27],[0x0f,0x27],[0x10,0x27],[0x11,0x27],[0x12,0x27],[0x13,0x27],[0x14,0x27],[0x15,0x27],[0x16,0x27],[0x17,0x27],[0x18,0x27],[0x19,0x27],[0x1a,0x27],
      [0x09,0x28],[0x0a,0x28],[0x0b,0x28],[0x0c,0x28],[0x0d,0x28],[0x0e,0x28],[0x0f,0x28],[0x10,0x28],[0x11,0x28],[0x12,0x28],[0x13,0x28],[0x14,0x28],[0x15,0x28],                                    [0x19,0x28],[0x1a,0x28],
      [0x09,0x29],[0x0a,0x29],[0x0b,0x29],[0x0c,0x29],[0x0d,0x29],[0x0e,0x29],[0x0f,0x29],[0x10,0x29],[0x11,0x29],[0x12,0x29],[0x13,0x29],[0x14,0x29],[0x15,0x29],                                    [0x19,0x29],[0x1a,0x29],
      [0x09,0x2a],[0x0a,0x2a],[0x0b,0x2a],[0x0c,0x2a],[0x0d,0x2a],[0x0e,0x2a],[0x0f,0x2a],[0x10,0x2a],[0x11,0x2a],[0x12,0x2a],[0x13,0x2a],[0x14,0x2a],[0x15,0x2a],                                    [0x19,0x2a],[0x1a,0x2a],
      [0x09,0x2b],[0x0a,0x2b],[0x0b,0x2b],[0x0c,0x2b],[0x0d,0x2b],[0x0e,0x2b],[0x0f,0x2b],[0x10,0x2b],[0x11,0x2b],[0x12,0x2b],[0x13,0x2b],[0x14,0x2b],[0x15,0x2b],[0x16,0x2b],[0x17,0x2b],[0x18,0x2b],[0x19,0x2b],[0x1a,0x2b],
      [0x09,0x2c],[0x0a,0x2c],[0x0b,0x2c],[0x0c,0x2c],[0x0d,0x2c],[0x0e,0x2c],[0x0f,0x2c],[0x10,0x2c],[0x11,0x2c],[0x12,0x2c],            [0x14,0x2c],[0x15,0x2c],[0x16,0x2c],[0x17,0x2c],[0x18,0x2c],[0x19,0x2c],[0x1a,0x2c],
      [0x09,0x2d],[0x0a,0x2d],[0x0b,0x2d],                                    [0x0f,0x2d],[0x10,0x2d],[0x11,0x2d],[0x12,0x2d],[0x13,0x2d],[0x14,0x2d],[0x15,0x2d],[0x16,0x2d],[0x17,0x2d],[0x18,0x2d],[0x19,0x2d],[0x1a,0x2d],
      [0x09,0x2e],[0x0a,0x2e],[0x0b,0x2e],                                    [0x0f,0x2e],[0x10,0x2e],[0x11,0x2e],[0x12,0x2e],[0x13,0x2e],[0x14,0x2e],[0x15,0x2e],[0x16,0x2e],[0x17,0x2e],[0x18,0x2e],[0x19,0x2e],[0x1a,0x2e],
      [0x09,0x2f],[0x0a,0x2f],[0x0b,0x2f],                                    [0x0f,0x2f],[0x10,0x2f],[0x11,0x2f],[0x12,0x2f],[0x13,0x2f],[0x14,0x2f],                        [0x17,0x2f],[0x18,0x2f],[0x19,0x2f],[0x1a,0x2f],
      [0x09,0x30],[0x0a,0x30],[0x0b,0x30],[0x0c,0x30],[0x0d,0x30],[0x0e,0x30],[0x0f,0x30],[0x10,0x30],[0x11,0x30],[0x12,0x30],[0x13,0x30],[0x14,0x30],                        [0x17,0x30],[0x18,0x30],[0x19,0x30],[0x1a,0x30],
      [0x09,0x31],[0x0a,0x31],            [0x0c,0x31],[0x0d,0x31],[0x0e,0x31],[0x0f,0x31],[0x10,0x31],[0x11,0x31],[0x12,0x31],[0x13,0x31],[0x14,0x31],[0x15,0x31],[0x16,0x31],[0x17,0x31],[0x18,0x31],[0x19,0x31],[0x1a,0x31],
      [0x09,0x32],[0x0a,0x32],[0x0b,0x32],[0x0c,0x32],[0x0d,0x32],[0x0e,0x32],[0x0f,0x32],[0x10,0x32],[0x11,0x32],[0x12,0x32],[0x13,0x32],[0x14,0x32],[0x15,0x32],[0x16,0x32],[0x17,0x32],[0x18,0x32],[0x19,0x32],[0x1a,0x32],
      [0x09,0x33],[0x0a,0x33],[0x0b,0x33],[0x0c,0x33],[0x0d,0x33],[0x0e,0x33],[0x0f,0x33],[0x10,0x33],[0x11,0x33],[0x12,0x33],[0x13,0x33],[0x14,0x33],[0x15,0x33],[0x16,0x33],[0x17,0x33],[0x18,0x33],[0x19,0x33],[0x1a,0x33],
    ];
    image.addEventListener('load', e => {
      canvas.width = image.width;
      canvas.height = image.height;
      clear();
      generate();
    });
    function clear() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(image,0,0);
      ctx.fillStyle = 'black';
      for (i=1;i<image.width/16+1;i++) {
        ctx.fillRect(16*i,0,1,image.height);
      }
      for (i=1;i<image.height/16+1;i++) {
        ctx.fillRect(0,16*i,image.width,1);
      }
    }
    function generate() {
      clear();
      let lotto = document.getElementById("lottery").value;
      let seed = (lotto * 0xEB65 + 0xA683) & 0xFFFF;
      let seed_neg = 0x10000-seed;
      let low = seed & 0xFF;
      let high = seed >> 8;
      let low_neg = seed_neg & 0xFF;
      let high_neg = seed_neg >> 8;
      let low_location_pos = TILE_DATA[3 + 0x84 * 3 + low % 0x84];
      let low_location_neg = TILE_DATA[3 + 0x84 * 3 + low_neg % 0x84];
      let high_location_pos = TILE_DATA[2 + 0x84 * 2 + high % 0x84];
      let high_location_neg = TILE_DATA[2 + 0x84 * 2 + high_neg % 0x84];
      ctx.fillStyle = 'green';
      ctx.fillRect(1+(low_location_pos[0]-0x9)*16,1+(low_location_pos[1]-0x12)*16,15,15);
      ctx.fillRect(1+(high_location_pos[0]-0x9)*16,1+(high_location_pos[1]-0x12)*16,15,15);
      ctx.fillStyle = 'red';
      ctx.fillRect(1+(low_location_neg[0]-0x9)*16,1+(low_location_neg[1]-0x12)*16,15,15);
      ctx.fillRect(1+(high_location_neg[0]-0x9)*16,1+(high_location_neg[1]-0x12)*16,15,15);
    }
  </script>
  <footer>Credits for helping with the research behind this!:<br>
    <a href=https://github.com/DRayX>DRayX</a> <a href=https://gist.github.com/DRayX/d618ca7adc69065950a30425fae6eece>(link to gist on this topic)</a><br>
    <a>EzPzStreamz in the PokemonRNG Discord</a><br>
  </footer>
</body>
</html>